---
deployment:
  tasks:
    - export DEPLOYPATH=/home/yourusername/public_html
    - /bin/cp -r app $DEPLOYPATH/
    - /bin/cp -r bootstrap $DEPLOYPATH/
    - /bin/cp -r config $DEPLOYPATH/
    - /bin/cp -r database $DEPLOYPATH/
    - /bin/cp -r public $DEPLOYPATH/
    - /bin/cp -r resources $DEPLOYPATH/
    - /bin/cp -r routes $DEPLOYPATH/
    - /bin/cp -r storage $DEPLOYPATH/
    - /bin/cp -r vendor $DEPLOYPATH/
    - /bin/cp artisan $DEPLOYPATH/
    - /bin/cp composer.json $DEPLOYPATH/
    - /bin/cp composer.lock $DEPLOYPATH/
    - /bin/cp .env.example $DEPLOYPATH/.env
    - cd $DEPLOYPATH
    - composer install --no-dev --optimize-autoloader
    - php artisan key:generate
    - php artisan migrate --force
    - php artisan config:cache
    - php artisan route:cache
    - php artisan view:cache
    - chmod -R 755 storage
    - chmod -R 755 bootstrap/cache
